<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
#floating-panel {
  position: absolute;
  top: 10px;
  left: 25%;
  z-index: 5;
  background-color: #fff;
  padding: 5px;
  border: 1px solid #999;
  text-align: center;
  font-family: 'Roboto','sans-serif';
  line-height: 30px;
  padding-left: 10px;
}
#floating-panel {
  background-color: #fff;
  border: 1px solid #999;
  left: 25%;
  padding: 5px;
  position: absolute;
  top: 10px;
  z-index: 5;
}
</style>
</head>

<body>
<div id="floating-panel">
<button onclick="toggleHeatmap()">Toggle Heatmap</button>
<button onclick="changeGradient()">Change gradient</button>
<button onclick="changeRadius()">Change radius</button>
<button onclick="changeOpacity()">Change opacity</button>
</div>
<div id="map"></div>
<script>

var map, heatmap;

function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 13,
    center: {lat: 40.710516, lng: -73.942334},
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map
  });
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
}

function getPoints() {
  return [
  new google.maps.LatLng(40.7081225587, -74.0067950392),
  new google.maps.LatLng(40.7695382979, -73.8638752864),
  new google.maps.LatLng(40.7662600172, -73.9579877042),
  new google.maps.LatLng(40.6459908421, -73.7808285215),
  new google.maps.LatLng(40.6878180243, -73.937137435),
  new google.maps.LatLng(40.7448054647, -73.990210284),
  new google.maps.LatLng(40.8547448187, -73.9331310881),
  new google.maps.LatLng(40.6769183922, -73.9670036541),
  new google.maps.LatLng(40.7255570093, -73.9935127826),
  new google.maps.LatLng(40.7585038142, -73.9892110984),
  new google.maps.LatLng(40.8035634361, -73.9409082232),
  new google.maps.LatLng(40.7222798343, -73.9462523481),
  new google.maps.LatLng(40.7626141952, -73.976903763),
  new google.maps.LatLng(40.7240067073, -73.8710353659),
  new google.maps.LatLng(40.6795728111, -73.9966637481),
  new google.maps.LatLng(40.7260234667, -74.0028362074),
  new google.maps.LatLng(40.7398603211, -74.0354798165),
  new google.maps.LatLng(40.8617789474, -73.8875877193),
  new google.maps.LatLng(40.7129869048, -73.9630696742),
  new google.maps.LatLng(40.7436638298, -73.9185382979),
  new google.maps.LatLng(40.626767509, -74.0264209386),
  new google.maps.LatLng(40.642788587, -73.9699684783),
  new google.maps.LatLng(40.8087267287, -73.9569890957),
  new google.maps.LatLng(40.778458427, -73.9803282303),
  new google.maps.LatLng(40.7102714286, -73.7982472906),
  new google.maps.LatLng(40.6688855556, -73.8809344444),
  new google.maps.LatLng(40.7495320948, -74.0044870759),
  new google.maps.LatLng(40.6855331296, -73.9871877751),
  new google.maps.LatLng(40.8835486486, -73.8456472973),
  new google.maps.LatLng(40.7553022847, -73.9710659051),
  new google.maps.LatLng(40.7629426136, -73.8252954545),
  new google.maps.LatLng(40.7095293839, -73.9035469194),
  new google.maps.LatLng(40.7331914209, -73.9998385724),
  new google.maps.LatLng(40.7840339193, -73.9516913133),
  new google.maps.LatLng(40.7033695887, -73.9276664502),
  new google.maps.LatLng(40.7489385375, -73.9430881423),
  new google.maps.LatLng(40.7184698335, -74.0095075894),
  new google.maps.LatLng(40.7329389343, -74.0060831261),
  new google.maps.LatLng(40.7427204361, -73.9832946131),
  new google.maps.LatLng(40.7308447607, -73.9563194049),
  new google.maps.LatLng(40.7520732194, -73.8467826211),
  new google.maps.LatLng(40.6392149123, -73.9098763158),
  new google.maps.LatLng(40.718834606, -73.9885971162),
  new google.maps.LatLng(40.6753512195, -73.8308560976),
  new google.maps.LatLng(40.6911955102, -73.9701567347),
  new google.maps.LatLng(40.6888611413, -73.9567767663),
  new google.maps.LatLng(40.7101333333, -73.944772381),
  new google.maps.LatLng(40.7703252619, -73.9849929089),
  new google.maps.LatLng(40.8860157576, -73.9059642424),
  new google.maps.LatLng(40.7869173345, -73.975158885),
  new google.maps.LatLng(40.7415086788, -73.9979866777),
  new google.maps.LatLng(40.6664755649, -73.9839323013),
  new google.maps.LatLng(40.7538457507, -73.9824598442),
  new google.maps.LatLng(40.7624644423, -73.9668602479),
  new google.maps.LatLng(40.7178839237, -73.9566865395),
  new google.maps.LatLng(40.8287554187, -73.9253945813),
  new google.maps.LatLng(40.7198390411, -74.0418607306),
  new google.maps.LatLng(40.7338893868, -73.9782522013),
  new google.maps.LatLng(40.7451532468, -73.8896519481),
  new google.maps.LatLng(40.6765527132, -74.0141364341),
  new google.maps.LatLng(40.7364048887, -73.990692414),
  new google.maps.LatLng(40.65004, -74.0053429268),
  new google.maps.LatLng(40.7192385047, -73.9979366444),
  new google.maps.LatLng(40.7953664207, -73.9240896679),
  new google.maps.LatLng(40.6655069388, -73.9325559184),
  new google.maps.LatLng(40.7745492099, -73.962120617),
  new google.maps.LatLng(40.6747322963, -73.9527511111),
  new google.maps.LatLng(40.75443825, -74.0284635),
  new google.maps.LatLng(40.7739047753, -73.8723030899),
  new google.maps.LatLng(40.7005275648, -73.9882372021),
  new google.maps.LatLng(40.8831172414, -73.7926103448),
  new google.maps.LatLng(40.8772444444, -74.0482666667),
  new google.maps.LatLng(40.7620152025, -73.99710081),
  new google.maps.LatLng(40.7066410298, -74.0138490748),
  new google.maps.LatLng(40.7453926295, -73.9553256972),
  new google.maps.LatLng(40.8309383333, -73.822265),
  new google.maps.LatLng(40.7180863753, -73.8432588689),
  new google.maps.LatLng(40.7623172321, -73.984667157),
  new google.maps.LatLng(40.7749043478, -73.9516170462),
  new google.maps.LatLng(40.7980132514, -73.9679449454),
  new google.maps.LatLng(40.8650651163, -73.9750139535),
  new google.maps.LatLng(40.6265770186, -73.9417341615),
  new google.maps.LatLng(40.7619029877, -73.924113181),
  new google.maps.LatLng(40.6181876923, -73.9915630769),
  new google.maps.LatLng(40.825150783, -73.9444816555),
  new google.maps.LatLng(40.6819860079, -73.9775905929),
  new google.maps.LatLng(40.7242533553, -73.9815377338),
  new google.maps.LatLng(40.6906490338, -73.9970076087),
  new google.maps.LatLng(40.7710416838, -73.9122227926),
  new google.maps.LatLng(40.7691190283, -73.8863234818),
  new google.maps.LatLng(40.8234631579, -73.8986333333),
  new google.maps.LatLng(40.6886962667, -73.9144936),
  new google.maps.LatLng(40.7408393414, -74.0058408409),
  new google.maps.LatLng(40.7671675325, -73.786738961),
  new google.maps.LatLng(40.8438663043, -73.8575347826),
  new google.maps.LatLng(40.750978615, -73.9936379261),
  new google.maps.LatLng(40.7297127214, -73.9872931965),
  new google.maps.LatLng(40.7460821782, -73.975289901),
  new google.maps.LatLng(40.658430303, -73.9573143251),
  new google.maps.LatLng(40.6452117579, -73.7899412107)
  ];
}

</script>
  <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDu4tAkj9-8cwEPTamK812YSbPnZ6xq9D8&signed_in=true&libraries=visualization&callback=initMap">
  </script>
</body>
</html>
